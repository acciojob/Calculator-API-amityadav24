<!DOCTYPE html>

<html>

<head>
	<link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Calculator API Client</h1>

<div>
  <label>Number 1:</label>
  <input type="number" id="num1" step="any" />
</div>

<div>
  <label>Number 2:</label>
  <input type="number" id="num2" step="any" />
</div>

<div style="margin-top: 10px;">
  <button onclick="calculate('add')">Add</button>
  <button onclick="calculate('sub')">Subtract</button>
  <button onclick="calculate('multiply')">Multiply</button>
  <button onclick="calculate('divide')">Divide</button>
</div>

<h2>Result:</h2>
<pre id="result"></pre>

<script>
  async function calculate(operation) {
    const num1 = parseFloat(document.getElementById('num1').value);
    const num2 = parseFloat(document.getElementById('num2').value);
    const resultEl = document.getElementById('result');

    if (isNaN(num1) || isNaN(num2)) {
      resultEl.textContent = 'Please enter valid numbers for both inputs.';
      return;
    }

    try {
      const res = await fetch(`/${operation}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ num1, num2 })
      });

      const data = await res.json();
      if (res.ok) {
        resultEl.textContent = JSON.stringify(data, null, 2);
      } else {
        resultEl.textContent = `Error: ${data.message}`;
      }
    } catch (err) {
      resultEl.textContent = 'Network error: ' + err.message;
    }
  }
</script>

</body>

</html>
